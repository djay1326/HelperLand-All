@model IEnumerable<HelperlandProject.Models.UserAddress>
@{
    ViewData["Title"] = "yourDetail";
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/images/favicon_img.png" rel="shortcut icon" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="~/css/bookService.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js">
    
    
    <script type="text/javascript" src="~/js/dashh.js"></script>
    <!-- <script type="text/javascript" src="js/book.js"></script> -->
    <title>Book Service</title>
</head>
<body>
    <form action="" id="yourDetailsForm" onsubmit='
                                    $("#makePaymentTabController").prop("disabled" , false);
                                    document.getElementById("makePaymentTabController").click();
                                    return false;'>
        <p class="fw-bold">Enter your contact details, so we can serve you in better way!</p>
        <ul class="yourAdd p-0">
            @foreach (var item in Model)
            {
                <li class="yourAddData px-3 py-2 my-2">
                    <label class="d-flex align-items-center">
                        <input type="radio" id="address1" name="address" value="@item.AddressId" checked>
                        <div class="ms-4">
                            <p class="mb-1">
                                <b style="color: grey;">Address:</b>
                                @Html.DisplayFor(modelItem => item.AddressLine1)
                            </p>
                            <p class="mb-1">
                                <b style="color: grey;">Phone number:</b>
                                @Html.DisplayFor(modelItem => item.Mobile)
                            </p>
                        </div>
                    </label>
                </li>
            }

            @*<li class="yourAddData px-3 py-2 my-2">
                    <label class="d-flex align-items-center">
                        <input type="radio" id="address1" name="address">
                        <div class="ms-4">
                            <p class="mb-1">
                                <b style="color: grey;">Address:</b>
                                Street 54, Troisdorf 53844
                            </p>
                            <p class="mb-1">
                                <b style="color: grey;">Phone number:</b>
                                9988556644
                            </p>
                        </div>
                    </label>
                </li>*@
        </ul>
        <input type="button" class="btn newAdBtn px-4 mt-3 rounded-pill fw-bolder" value="+ Add New Address" data-bs-toggle="collapse" href="#newAddressCollapse" role="button" aria-expanded="false" aria-controls="newAddressCollapse">
        <hr class="mt-4 mb-3">
    </form>
    <div class="my-3 collapse multi-collapse newAdd" id="newAddressCollapse">
        <form action="" onsubmit="return false;">
            <div class="row newAddress_form">
                <div class="col-sm-6 mb-4">
                    <div class="form-group d-flex flex-column">
                        <label for="streetname">Street Name</label>
                        <input type="text" placeholder="Street Name" name="streetname" class="bdrlt htt pddIn w-100" id="add1" required>
                    </div>
                </div>
                <div class="col-sm-6 mb-4">
                    <div class="form-group d-flex flex-column">
                        <label for="housenumber">House number</label>
                        <input type="text" placeholder="House Number" name="housenumber" class="bdrlt htt pddIn w-100" id="add2" required>
                    </div>
                </div>
                <div class="col-sm-6 mb-4">
                    <div class="form-group d-flex flex-column">
                        <label for="postalcode">Postal Code</label>
                        <input type="text" disabled value="53111" placeholder="Postal Code" id="postal" name="postalcode" class="bdrlt htt pddIn w-100">
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group d-flex flex-column">
                        <label for="city">City</label>
                        <input type="text" placeholder="City" id="city" class="bdrlt htt pddIn w-100"required/>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="form-group d-flex flex-column">
                        <label for="phonenumber"> Phone Number</label>
                        <div class="d-flex">
                            <input type="text" name="phonecode" class="bdrlt htt pddIn" value="+91" disabled style="max-width: 55px;">
                            <input type="text" placeholder="Phone Number" name="phonenumber" id="mobile" class="bdrlt minheight46 pddIn" value="3423423423">
                        </div>
                    </div>
                </div>
            </div>
            <button type="button" id="save" class="greenBtn rounded-pill bdrlt text-light px-3 pddIn">
                Save
            </button>
            <a role="button" class="btn border htt pddIn rounded-pill" data-bs-toggle="collapse" href="#newAddressCollapse" aria-expanded="false" aria-controls="newAddressCollapse">
                Cancel
            </a>
        </form>
    </div>
    <div id="favouriteTable my-3">
        <h4 class="border-bottom pb-2">Your favourite service providers.</h4>
        <p>You can choose your favourite service provider from the below list.</p>
        <div class="favPro">
            <div class="favProData col-sm-12 w-100 d-flex align-items-center justify-content-center flex-column">
                <div class="spProfile mb-3 rounded-circle d-flex align-items-center justify-content-center">
                    <img src="~/images/avatar-car.png">
                </div>
                <p class="mb-3">First</p>
                <button class="btn selectBtn rounded-pill">Select</button>
            </div>
            <div class="favProData col-sm-12 w-100 d-flex align-items-center justify-content-center flex-column">
                <div class="spProfile mb-3 rounded-circle d-flex align-items-center justify-content-center">
                    <img src="~/images/avatar-car.png">
                </div>
                <p class="mb-3">Second</p>
                <button class="btn selectBtn rounded-pill">Select</button>
            </div>
            <div class="favProData col-sm-12 w-100 d-flex align-items-center justify-content-center flex-column">
                <div class="spProfile mb-3 rounded-circle d-flex align-items-center justify-content-center">
                    <img src="~/images/avatar-car.png">
                </div>
                <p class="mb-3">Third</p>
                <button class="btn selectBtn rounded-pill">Select</button>
            </div>
            <div class="favProData col-sm-12 w-100 d-flex align-items-center justify-content-center flex-column">
                <div class="spProfile mb-3 rounded-circle d-flex align-items-center justify-content-center">
                    <img src="~/images/avatar-car.png">
                </div>
                <p class="mb-3">Fourth</p>
                <button class="btn selectBtn rounded-pill">Select</button>
            </div>
            <div class="favProData col-sm-12 w-100 d-flex align-items-center justify-content-center flex-column">
                <div class="spProfile mb-3 rounded-circle d-flex align-items-center justify-content-center">
                    <img src="~/images/avatar-car.png">
                </div>
                <p class="mb-3">Fifth</p>
                <button class="btn selectBtn rounded-pill">Select</button>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-end">
        <button type="button" id="cont2" class="rounded-pill greenBtn1 my-2 text-light" onclick="$('#yourDetailsForm').submit();">
            Continue
        </button>
    </div>

    <script>
        $("#cont2").on("click", function () {
            $("#makePaymentTabController").removeClass("disabled");
            $("#makePaymentTabController")[0].click();
        });
        $("#save").on('click', function () {

            var address = {};
            address.AddressLine1 = $("#add1").val();
            address.AddressLine2 = $("#add2").val();
            address.PostalCode = $("#postal").val();
            address.City = $("#city").val();
            address.Mobile = $("#mobile").val();
            console.log(address);
            if (address.AddressLine1 == "" || address.AddressLine2 == "" || address.PostalCode == "" || address.City == "" || address.Mobile == "") {
                alert('You cannot leave empty values!')
            }
            else
            {
            $.ajax({

                url: '@Url.Action("yourDetail", "Starting")',
                type: 'post',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(address),


                success: function (resp) {
                    console.log(resp);
                    alert("Data has been added successfully.");
                //  $("#list-profile-list").removeClass("disabled");
                    $("#yourDetailsTab").html("Updating Addresses...")
                     .load('@Url.Action("yourDetail", "Starting")');

                },
                error: function (err) {
                    console.log(err);
                    alert("Error while inserting data");
                }
            
                });
            }
        });

    </script>
</body>
</html>